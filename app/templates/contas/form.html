{% extends "base.html" %}

{% block title %}{{ 'Editar' if conta else 'Nova' }} Conta - Gestão Financeira{% endblock %}

{% block content %}
<h1 class="mb-4">{{ 'Editar' if conta else 'Nova' }} Conta</h1>

<div class="card">
    <div class="card-body">
        <form method="POST">
            <div class="mb-3">
                <label for="nome" class="form-label">Nome da Conta</label>
                <input type="text" class="form-control" id="nome" name="nome"
                       value="{{ conta.nome if conta else '' }}" required>
            </div>

            <div class="mb-3">
                <label for="tipo" class="form-label">Tipo de Conta</label>
                <select class="form-select" id="tipo" name="tipo" required>
                    <option value="">Selecione...</option>
                    <option value="corrente" {% if conta and conta.tipo == 'corrente' %}selected{% endif %}>Conta Corrente</option>
                    <option value="poupanca" {% if conta and conta.tipo == 'poupanca' %}selected{% endif %}>Poupança</option>
                    <option value="investimento" {% if conta and conta.tipo == 'investimento' %}selected{% endif %}>Investimento</option>
                </select>
            </div>

            {% if not conta %}
            <div class="mb-3">
                <label for="saldo_inicial" class="form-label">Saldo Inicial</label>
                <input type="number" step="0.01" class="form-control" id="saldo_inicial"
                       name="saldo_inicial" value="0.00" required>
            </div>
            {% endif %}

            {% if conta %}
            <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="ativa" name="ativa"
                       {% if conta.ativa %}checked{% endif %}>
                <label class="form-check-label" for="ativa">
                    Conta ativa
                </label>
            </div>
            {% endif %}

            <div class="d-flex gap-2">
                <button type="submit" class="btn btn-primary">
                    <i class="bi bi-check-circle"></i> Salvar
                </button>
                <a href="{{ url_for('main.listar_contas') }}" class="btn btn-secondary">
                    <i class="bi bi-x-circle"></i> Cancelar
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
